<% layout('layouts/app') %>

<% if (currentUser && user._id.equals(currentUser._id)) { %>
  <h2 class="my-3 col-10 offset-1 col-lg-8 offset-lg-2">Welcome <span class="fw-bold"><%= user.username %></span></h2>
<% } %>

<div class="card col-10 offset-1 col-lg-8 offset-lg-2 <%= (currentUser && user._id.equals(currentUser._id)) ? '' : 'text-bg-light' %>">
  <div class="card-body d-flex flex-column gap-2">
    <div class="card-header d-flex flex-row gap-2 gap-md-3 gap-xl-4 mb-1 align-items-center">
      <img class="w-25 border rounded-circle" src="/images/profiles/<%= (!user.profil) ? 'placeholder.jpg' : 'placeholder.jpg' %>" alt="Profile Picture of <%= user.username %>">
      <div>
        <h1>@<%= user.username %></h1>
        <span><%= (!user.fullname) ? '' : user.fullName %></span>
      </div>
    </div>
    <div class="d-flex flex-column gap-2">
      <ul>
        <li>
          <span class="text-muted">Birthday:</span>
          <span><%= new Date(user.birthday).toLocaleDateString('en-US', { day: '2-digit', month: 'long', year: 'numeric' }) %></span>
        </li>
        <li>
          <span class="text-muted">Gender:</span>
          <span><%= user.gender %></span>
        </li>
        <li>
          <span class="text-muted">Full name:</span>
        </li>
      </ul>
      <div>
        <span>About me:</span>
        <p class="border bg-white rounded p-2">
          <%= (!user.description) ? '-' : user.description %>
        </p>
      </div>
    </div>
    <div>
      My Contact:
      <ul>
        <li>
          <span class="text-muted">Address:</span>
          <span><%= (!user.address) ? ' - ' : user.address %></span>
        </li>
        <li>
          <span class="text-muted">Instagram:</span>
          <span><%= (!user.Instagram) ? ' - ' : user.Instagram %></span>
        </li>
        <li>
          <span class="text-muted">twitter:</span>
          <span><%= (!user.twitter) ? ' - ' : user.twitter %></span>
        </li>
        <li>
          <span class="text-muted">facebook:</span>
          <span><%= (!user.facebook) ? ' - ' : user.facebook %></span>
        </li>
      </ul>
    </div>
  </div>
  <span class="card-footer text-end">
    Registered at
    <span><%= new Date(user.createdAt).toLocaleDateString('en-US', { day: '2-digit', month: 'long', year: 'numeric' }) %></span>
  </span>
</div>


<!-- 
admin = http://127.0.0.1:3000/account/689c514bd4dfb8f0b7bc9bd2
user = http://127.0.0.1:3000/account/689cc5771b0f02c66e3b4a00

-->